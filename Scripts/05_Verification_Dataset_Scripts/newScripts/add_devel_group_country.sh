#ESTE SCRIPT COGE EL FICHERO FOUR_LAST_FIELDS, QUE CONTIENE LOS GRUPOS DE DESARROLLO Y PAISES Y LOS AÃ‘ADE AL DATASET GRANDE NUEVO OBTENIDO DESDE CErO

cat four_last_fields | while read line; do MD5=`echo $line | cut -d' ' -f1`; DEVEL_GROUP=`echo $line | cut -d' ' -f5`; DEVEL_COUNTRY=`echo $line | cut -d' ' -f6`; cat csv_a_empezar_desde_cero_v2_sin_cols21y37_con52_y_49_46_y43_40_34_31_28_24_17_14_10_final_con_cabecera_quitamos_5_muestras.csv_test | awk -v MD5=$MD5 -v DEVEL_GROUP=$DEVEL_GROUP -v DEVEL_COUNTRY=$DEVEL_COUNTRY --field-separator=';' '{ if ($1==MD5) { print $0 ";" DEVEL_GROUP";"DEVEL_COUNTRY } else print $0 }' > test; cp test csv_a_empezar_desde_cero_v2_sin_cols21y37_con52_y_49_46_y43_40_34_31_28_24_17_14_10_final_con_cabecera_quitamos_5_muestras.csv_test; done

cat csv_a_empezar_desde_cero_v2_sin_cols21y37_con52_y_49_46_y43_40_34_31_28_24_17_14_10_final_con_cabecera_quitamos_5_muestras.csv_testa | while read line; do MD5=`echo $line | cut -d';' -f1`; sal=`grep $MD5 four_last_fields`; DEVEL_GROUP=`echo $sal | cut -d' ' -f5`; DEVEL_COUNTRY=`echo $sal | cut -d' ' -f6`; echo $line | awk -v MD5=$MD5 -v DEVEL_GROUP=$DEVEL_GROUP -v DEVEL_COUNTRY=$DEVEL_COUNTRY --field-separator=';' '{ if ($1==MD5) { print $0 ";" DEVEL_GROUP";"DEVEL_COUNTRY } else print $0 }' >>testa; done
